<!-- <div fxLayout="column" class="form" style="width: 100%;">
    <mat-toolbar color="primary"> -->
        <!-- <div style="width: 100%;" fxLayout="row" fxLayoutAlign="space-between center" fxLayoutGap="2">
            <div> -->
                <!-- <a [routerLink]="[ '/lineview/table/count' ]" routerLinkActive="active" style="text-decoration: none;">
                    <button  mat-raised-button color="primary">Home
                        <mat-icon>home</mat-icon>
                    </button>
                </a> -->
            <!-- </div>
            <div>Event Chart Search</div>
            <div></div>
        </div> -->
    <!-- </mat-toolbar> -->

    <!-- {{updated}} -->
    <form [formGroup]="eventchartform">
        <div fxLayout="column" style="width:100%;">
            <div fxLayout="row" style="width:70%;padding: 10px;" fxFlex=100>
                <mat-form-field appearance="outline" fxFlex="25">
                    <mat-label>Select Shift </mat-label>
                    <mat-select formControlName="shiftname">
                        <mat-option *ngFor="let s of Shift" [value]="s[2]">
                            {{s[2]}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field appearance="outline" fxFlex="25">
                    <input matInput [matDatepicker]="picker" [max]="tomorrow" formControlName="date" placeholder="Shift Date">
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                </mat-form-field>
                <!-- <mat-form-field appearance="outline" fxFlex="25">
                    <mat-label>Select Type </mat-label>
                    <mat-select formControlName="type">
                        <mat-option value="machine">Machine</mat-option>
                    </mat-select>
                </mat-form-field> -->
                <mat-form-field appearance="outline" fxFlex="35" style="margin-right: 3%;">
                    <mat-select formControlName="line_id">
                        <mat-option *ngFor="let line of LinesData" [value]="line.lineid">
                            {{line.linename}}({{line.plantname}}/{{line.locationname}})
                        </mat-option>
                    </mat-select>
                </mat-form-field>
                <div fxLayout="row" style="width: 100%;padding: 1%;" fxLayoutAlign="space-around start" fxFlex="25">
                    <button mat-raised-button color="primary" [disabled]="eventchartform.invalid"
                        (click)="SubmitChanges()"> Submit </button>
                </div>
            </div>
        </div>
    </form>
    <!-- <pre>{{eventchartform.value|json}}</pre> -->
<!-- </div> -->
<div fxLayout="column" fxLayoutAlign="start center" style="height: 100%;width:100%;">
    <div fxLayout="row" style="width: 100%;" fxLayout.xs="column" fxLayoutWrap
    fxLayoutAlign="space-around center" fxFlex="99">
            <div #eventBarChartdiv style="width: 100%; height: 100%; min-width: 500px; background: rgb(229, 226, 226);"
                fxLayout="row" fxLayoutAlign="space-around stretch" fxFlex="70">
                <google-chart *ngIf="timelineChart && updated"  #eventBarChart [data]="timelineChart"></google-chart>
                <google-chart *ngIf="timelineChart && !updated"  #eventBarChart [data]="timelineChart"></google-chart>
            </div>
      
            <div style="height: 300px; width: 100%;" fxFlex="30">
                <div style="position: relative; width:100%; height: 100%;" fxLayout="row"
                    fxLayoutAlign="space-between center">
                    <div *ngFor="let pieChart of pieCharts; let i = index"
                        style="height: 100%; width: 100%; margin:10px;">
                        <div style="font-size: 12px; font-weight: bold;">
                            {{pieChart?.title | uppercase}}
                        </div>
                        <google-chart [data]="pieChart"></google-chart>
                        <div style=" font-size: 12px; font-weight: bold;">
                            <div *ngFor="let item of pieChart?.dataTable;let j = index" fxLayout="row" fxLayoutAlign="start center">
                              <div *ngIf="j!=0"
                                style="content:'';width:10px;height: 10px;color:black;font-size: 9px;font-family: Helvetica Neue,Helvetica,Arial,sans-serif;"
                                [ngStyle]="{'background-color': statusColors[item[0]]?.color}"></div>
                              <div *ngIf="j!=0">
                                    {{(item[1]?item[1] * 60 * 60 :0 ) | duration2Time:'HH:MM' }}-{{ ((item[1]?item[1]:0)/ (pieChart?.dataTable[9][1] + pieChart?.dataTable[8][1]+pieChart?.dataTable[7][1]+pieChart?.dataTable[6][1]+pieChart?.dataTable[5][1]+pieChart?.dataTable[4][1]+pieChart?.dataTable[3][1]+pieChart?.dataTable[2][1]+pieChart?.dataTable[1][1]))*100|number : '2.0-0'}}%
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
    </div>

    <div fxLayout="row wrap" fxLayoutAlign="space-evenly center" class="box1"
        style="width:80%;height:10%;text-align: center;">
        <div *ngFor="let item of statusColors| keyvalue" fxLayout="row" class="box2"
            [ngStyle]="{'background-color': item.value.color}" fxLayoutAlign="space-evenly center">
            {{item.value.text}}
        </div>
    </div>
</div>