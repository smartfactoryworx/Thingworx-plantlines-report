<mat-toolbar color="primary">
    <div style="width: 100%;" fxLayout="row" fxLayoutAlign="space-between center" fxLayoutGap="2">
        <div ><img src="../../../configs/images/smart-logo.png" width="165px" height="65px" alt="smartfactoryworx"
            style="object-fit: none;background-color: white; margin-top: 6%;" /></div>
        <div>CIPL Cycle Report</div>
        <div><h5>{{lastUpdated}}</h5></div>
    </div>
</mat-toolbar>
<div fxLayout="column" class="form" style="width: 100%;">
    <form [formGroup]="cycleform">
        <div fxLayout="column" style="width:100%;">
            <div fxLayout="row" style="width: 100%;padding: 1%;" fxLayoutAlign="center center" fxFlex="70">
                <mat-form-field appearance="fill" fxFlex="40" style="margin-right: 3%;">
                    <mat-label>Choose the Machine</mat-label>
                    <mat-select formControlName="machine" placeholder="Date">
                        <mat-option *ngFor="let machine of MachineList" [value]="machine.machineId">
                            {{machine.machineId}} ( {{machine.machineName}})
                        </mat-option>
                    </mat-select>
                </mat-form-field>
                <button mat-raised-button color="primary" [disabled]="cycleform.invalid"
                    (click)="GetCycleData(this.machine.value)" fxFlex="10" style="margin-bottom: 1%;">Submit </button>
                <div *ngIf="!gotData" fxFlex="10" style="margin-bottom: 1%;margin-left: 3%;">
                    <mat-spinner diameter="30"></mat-spinner>
                </div>
            </div>
        </div>
    </form>
    <div style="color: red;">
        {{errorText}}
    </div>
    <div *ngIf="cycleData?.length > 0" fxLayout="column" style="width: 99%;" fxLayoutAlign="center">
        <div>
            <!-- <button mat-raised-button color="primary" (click)="Export_Excel()">Export to Excel</button>&nbsp;
            <button mat-raised-button color="primary" (click)="Export_PDF()">Export to PDF</button> -->
        </div>
        <mat-tab-group (selectedTabChange)="GetReport($event.tab.textLabel)" mat-align-tabs="center">
            <mat-tab label="SKUwise">
                <div fxLayout="row" style="width: 100%;" fxLayout.xs="column" fxLayoutWrap fxLayoutGap="0.1%"
                    fxLayoutAlign="space-around center" fxFlex="100">
                    <wbr-pivot #pivot1 [toolbar]="true" [width]="'100%'" [height]="700" fxFlex="99"
                        (beforetoolbarcreated)="customizeToolbar($event)"
                        (reportcomplete)="onReportComplete('SKUwise')">
                    </wbr-pivot>
                    <!-- <fm-pivot #pivot1 [toolbar]="true" [width]="'100%'" [height]="700" fxFlex="99"
                (beforetoolbarcreated)="customizeToolbar($event)" (reportcomplete)="onReportComplete()"
                [licenseKey]="licenseKey">
            </fm-pivot> -->
                </div>
            </mat-tab>
            <mat-tab label="Faultwise">
                <div fxLayout="row" style="width: 100%;" fxLayout.xs="column" fxLayoutWrap fxLayoutGap="0.1%"
                    fxLayoutAlign="space-around center" fxFlex="100">
                    <wbr-pivot #pivot2 [toolbar]="true" [width]="'100%'" [height]="700" fxFlex="99"
                        (beforetoolbarcreated)="customizeToolbar($event)">
                    </wbr-pivot>
                </div>
            </mat-tab>
            <mat-tab label="Daywise">
                <div fxLayout="row" style="width: 100%;" fxLayout.xs="column" fxLayoutWrap fxLayoutGap="0.1%"
                    fxLayoutAlign="space-around center" fxFlex="100">
                    <wbr-pivot #pivot3 [toolbar]="true" [width]="'100%'" [height]="700" fxFlex="99"
                        (beforetoolbarcreated)="customizeToolbar($event)">
                    </wbr-pivot>
                </div>
            </mat-tab>
        </mat-tab-group>

    </div>
</div>

<!-- <pre>{{cycleform.value|json}}</pre> -->