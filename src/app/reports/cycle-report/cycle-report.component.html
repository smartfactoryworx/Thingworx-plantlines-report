
<div fxLayout="column" style="width: 99%;" fxLayoutAlign="center">
    <div fxLayout="row" style="width: 100%;" fxLayout.xs="column" fxLayoutWrap fxLayoutGap="0.1%"
        fxLayoutAlign="space-around center" fxFlex="100">
        <app-parent-master fxFlex="90" (machineOut)='GetCycleData($event)'></app-parent-master>
        <div *ngIf="!gotData" fxFlex="10" style="margin-bottom: 1%;">
            <mat-spinner diameter="30"></mat-spinner>
        </div>
    </div>
</div>
<div *ngIf="cycleData?.length > 0" fxLayout="column" style="width: 99%;" fxLayoutAlign="center">

    <mat-tab-group (selectedTabChange)="GetReport($event.tab.textLabel)" mat-align-tabs="center">
        <mat-tab label="Summary">
            <button mat-raised-button color="primary" class="excel-btn"
                (click)="Export_Excel('Summary',machine.value  + '_Summary_Report','Summary_Report')">Export to
                Excel</button>&nbsp;
            <!-- <button mat-raised-button color="primary" (click)="Export_PDF()">Export to PDF</button> -->
            <div fxLayout="row" style="width: 100%;" fxLayout.xs="column" fxLayoutWrap fxLayoutGap="0.1%"
                fxLayoutAlign="space-around center" fxFlex="100">
                <wbr-pivot #pivot3 [toolbar]="true" [width]="'100%'" [height]="700" fxFlex="99"
                    (beforetoolbarcreated)="customizeToolbar($event)" (reportcomplete)="onReportComplete('Summary')">
                </wbr-pivot>
            </div>
        </mat-tab>
        <mat-tab label="SKUwise">
            <button mat-raised-button color="primary" class="excel-btn"
                (click)="Export_Excel('SKUwise',machine.value+'_SKU_Wise_Report','SKU_Wise_Report')">Export to
                Excel</button>&nbsp;
            <!-- <button mat-raised-button color="primary" (click)="Export_PDF()">Export to PDF</button> -->
            <div fxLayout="row" style="width: 100%;" fxLayout.xs="column" fxLayoutWrap fxLayoutGap="0.1%"
                fxLayoutAlign="space-around center" fxFlex="100">
                <wbr-pivot #pivot1 [toolbar]="true" [width]="'100%'" [height]="700" fxFlex="99"
                    (beforetoolbarcreated)="customizeToolbar($event)">
                </wbr-pivot>
                <!-- <fm-pivot #pivot1 [toolbar]="true" [width]="'100%'" [height]="700" fxFlex="99"
                (beforetoolbarcreated)="customizeToolbar($event)" (reportcomplete)="onReportComplete()"
                [licenseKey]="licenseKey">
            </fm-pivot> -->
            </div>
        </mat-tab>
        <mat-tab label="Faultwise">
            <button mat-raised-button color="primary" class="excel-btn"
                (click)="Export_Excel('Faultwise',machine.value +'_Fault_Wise_Report','Fault_Wise_Report')">Export
                to Excel</button>&nbsp;
            <!-- <button mat-raised-button color="primary" (click)="Export_PDF()">Export to PDF</button> -->
            <div fxLayout="row" style="width: 100%;" fxLayout.xs="column" fxLayoutWrap fxLayoutGap="0.1%"
                fxLayoutAlign="space-around center" fxFlex="100">
                <wbr-pivot #pivot2 [toolbar]="true" [width]="'100%'" [height]="700" fxFlex="99"
                    (beforetoolbarcreated)="customizeToolbar($event)">
                </wbr-pivot>
            </div>
        </mat-tab>

        <mat-tab label="DailyCycle">
            <button mat-raised-button color="primary" class="excel-btn"
                (click)="Export_Excel('DailyCycle',machine.value + '_Daily_Cycle_Report','Daily_Cycle_Report')">Export
                to Excel</button>&nbsp;
            <!-- <button mat-raised-button color="primary" (click)="Export_PDF()">Export to PDF</button> -->
            <div fxLayout="row" style="width: 100%;" fxLayout.xs="column" fxLayoutWrap fxLayoutGap="0.1%"
                fxLayoutAlign="space-around center" fxFlex="100">
                <wbr-pivot #pivot4 [toolbar]="true" [width]="'100%'" [height]="700" fxFlex="99"
                    (beforetoolbarcreated)="customizeToolbar($event)">
                </wbr-pivot>
            </div>
        </mat-tab>
    </mat-tab-group>

</div>
<div style="color: red;text-align: center;margin-top: 4%;">
    {{errorText}}
</div>

<!-- <pre>{{cycleform.value|json}}</pre> -->